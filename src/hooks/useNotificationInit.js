import { useEffect } from 'react';\nimport { useAppSelector } from '../store/hooks';\nimport notificationService from '../services/notificationService';\n\n/**\n * Hook to initialize notification service when user logs in\n * Should be used in App.jsx or main layout component\n */\nconst useNotificationInit = () => {\n  const { user, isAuthenticated } = useAppSelector(state => state.auth);\n\n  useEffect(() => {\n    const initNotifications = async () => {\n      // Only initialize if user is authenticated\n      if (!isAuthenticated || !user) {\n        return;\n      }\n\n      try {\n        console.log('ðŸ”” Initializing notifications for user:', user.name);\n        const success = await notificationService.initialize();\n        \n        if (success) {\n          console.log('âœ… Notification service initialized successfully');\n        } else {\n          console.warn('âš ï¸ Notification service initialization failed or not supported');\n        }\n      } catch (error) {\n        console.error('âŒ Error initializing notification service:', error);\n      }\n    };\n\n    // Small delay to ensure auth state is stable\n    const timeoutId = setTimeout(initNotifications, 1000);\n\n    return () => clearTimeout(timeoutId);\n  }, [isAuthenticated, user]);\n\n  return {\n    isNotificationSupported: notificationService.getPermissionStatus() !== 'unsupported',\n    notificationService\n  };\n};\n\nexport default useNotificationInit;